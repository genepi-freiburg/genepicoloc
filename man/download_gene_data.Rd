% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gene_annotation.R
\name{download_gene_data}
\alias{download_gene_data}
\title{Download and Process Protein-Coding Genes from Ensembl BioMart}
\usage{
download_gene_data(
  biomart_file,
  output_file = "genes_chr.txt",
  compress = TRUE,
  verbose = TRUE
)
}
\arguments{
\item{biomart_file}{Character. Path to the downloaded BioMart TSV file}

\item{output_file}{Character. Path for the processed gene file (default: "genes_chr.txt")}

\item{compress}{Logical. Whether to compress the output file with gzip (default: TRUE)}

\item{verbose}{Logical. Print progress messages (default: TRUE)}
}
\value{
Character. Path to the created gene annotation file
}
\description{
The workflow consists of three main steps:
\enumerate{
\item Download gene data from Ensembl BioMart (manual step)
\item Process and clean the data
\item Save processed gene annotations
}
}
\details{
This function provides a complete workflow to download and process protein-coding genes
from Ensembl BioMart. Use this function to update the gene annotations with the latest
data from Ensembl.

Manual BioMart Download Steps:
\enumerate{
\item Go to: http://www.ensembl.org/biomart/martview/
\item Select Database: Ensembl Genes
\item Select Dataset: Human genes (GRCh38.p14)
\item Go to Filters panel:
\itemize{
\item Gene type: Select "protein_coding"
}
\item Go to Attributes panel:
\itemize{
\item Gene stable ID: Uncheck
\item Gene name (HGNC symbol): Check
\item Gene start (bp): Check
\item Gene end (bp): Check
\item Chromosome/scaffold name: Check
}
\item Click "Results" and download as TSV file
}

Alternative direct BioMart URL (may need updating):
http://www.ensembl.org/biomart/martview/62ec57e3bef4d3400759e631a7778f3e?VIRTUALSCHEMANAME=default&ATTRIBUTES=hsapiens_gene_ensembl.default.feature_page.hgnc_symbol|hsapiens_gene_ensembl.default.feature_page.start_position|hsapiens_gene_ensembl.default.feature_page.end_position|hsapiens_gene_ensembl.default.feature_page.chromosome_name&FILTERS=hsapiens_gene_ensembl.default.filters.biotype."protein_coding"&VISIBLEPANEL=filterpanel
}
\examples{
\dontrun{
# Step 1: Download data from BioMart manually
# Follow the steps in function documentation
# Save as "mart_export.txt"

# Step 2: Process the downloaded data
gene_file <- download_gene_data(
  biomart_file = "mart_export.txt",
  output_file = "my_genes_chr.txt",
  compress = TRUE
)

# The processed file is now ready for use with setup_gene_annotation()
print(paste("Gene data saved to:", gene_file))

# Example: Update package data
# This creates a file that could replace the packaged data
updated_genes <- download_gene_data(
  biomart_file = "fresh_biomart_download.txt",
  output_file = "genes_chr_updated.txt.gz"
)
}

}
\author{
Generated from workflow by Matthias Wuttke
}
